read.csv(mlb_payrolls.csv)
read.csv("mlb_payrolls.csv")
library(tidyverse)
read.csv("mlb_payrolls.csv")
teams <- c("Chicago Cubs", "Texas Rangers", "Washington Nationals", "Cleveland Indians", "Boston Red Sox", "Los Angeles Dodgers", "Baltimore Orioles", "Toronto Blue Jays", "New York Mets", "San Francisco Giants", "Detroit Tigers", "St. Louis Cardinals", "Seattle Mariners", "New York Yankees", "Houston Astros", "Kansas City Royals", "Miami Marlins", "Pittsburgh Pirates", "Chicago White Sox", "Colorado Rockies", "Los Angeles Angels", "Milwaukee Brewers", "Philadelphia Phillies", "Arizona Diamondbacks", "Oakland Athletics", "Atlanta Braves", "Tampa Bay Rays", "San Diego Padres", "Cincinnati Reds", "Minnesota Twins")
wins <- c(103, 95, 95, 9493, 91, 89, 89, 87, 87, 86, 86, 86, 84, 84, 81, 79, 78, 78, 75, 74, 73, 71, 69, 69, 68, 68, 68, 68, 59)
wins <- c(103, 95, 95, 94, 93, 91, 89, 89, 87, 87, 86, 86, 86, 84, 84, 81, 79, 78, 78, 75, 74, 73, 71, 69, 69, 68, 68, 68, 68, 59)
losses <- c(58, 67, 67, 67, 69, 71, 73, 73, 75, 75, 75, 76, 76, 78, 78, 81, 82, 83, 84, 87, 88, 89, 91, 93, 93, 93, 94, 94, 94, 103)
rs <- c(808, 765, 763, 777, 878, 725, 744, 759, 671, 715, 750, 779, 768, 680, 724, 675, 655, 729, 686, 845, 717, 671, 610, 752, 653, 649, 672, 686, 716, 722)
ra <- c(556, 757, 612, 676, 694, 638, 715, 666, 617, 631, 721, 712, 707, 702, 701, 712, 682, 758, 715, 860, 727, 733, 796, 890, 761, 779, 713, 770, 854, 889)
names(wins) <- teams
names(losses) <- teams
names(rs)<- teams
names(ra)<- teams
wp.actual <- wins/(wins+losses)
wp.pythag <- (rs^2)/((rs^2)+(ra^2))
wp.resid <- wp.actual-wp.pythag
wp.resid <- wp.actual-wp.pythag
losses
relative_payroll <- read_csv(file = "data/mlb_relative_payrolls.csv")
relative_payroll <- read_csv(file = "Data/mlb_relative_payrolls.csv")
setwd("~/Desktop/Moneyball/moneyballproject")
read.csv(file = data/nba_advanced_2015_csv)
read.csv(file = "data/nba_advanced_2015_csv")
setwd("~/Desktop/Moneyball/moneyballproject/data")
read.csv(file = "nba_advanced/nba_advanced_2015_csv")
read.csv(file = "nba_advanced/nba_advanced_2015.csv")
nba_advanced_2015 <- read.csv(file = "nba_advanced/nba_advanced_2015.csv")
View(nba_advanced_2015)
nba_advanced_2015 <- read.csv(file = "nba_advanced/nba_advanced_2015.csv")
library(tidyverse)
remove_percent <- sapply(TO., Fun = function(x){str_sub(x, 1, -2)})
remove_percent <- sapply(TO., FUN = function(x){str_sub(x, 1, -2)})
remove_percent <- sapply(TO%, FUN = function(x){str_sub(x, 1, -2)})
TO% <- remove_percent$TO.
TO_percent <- remove_percent$TO%
block_percent <- remove_percent$BLK
block_percent <- remove_percent$BLK
block_percent <- nba_advanced_2015$BLK
remove_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent
remove_percent
steal_percent <- nba_advanced_2015$STL
remove_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
remove_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
rm(remove_percent)
remove_block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
remove_steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
rm(remove_steal_percent)
rm(remove_block_percent)
steal_percent <- nba_advanced_2015$STL %>%
sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
steal_percent <- as.numeric(as.character(steal_percent))
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
block_percent <- sapply(block_percent, FUN = function(x){x/100})
block_percent <- sapply(block_percent, FUN = function(x){x/100})
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
block_percent <- sapply(block_percent, FUN = function(x){x*100})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x*100})
nba_advanced_2015 <- nba_advanced_2015 %>%
mutate(STL% = steal_percent)
mutate(nba_advanced, STL% = steal_percent)
nba_advanced_2015$BLK <- block_percent
nba_advanced_2015$BLK. <- block_percent
nba_advanced_2015$STL. <- steal_percent
rm(nba_advanced_2015$BLK)
library(tidyverse)
nba_advanced_2015 <- read.csv(file = "nba_advanced/nba_advanced_2015.csv")
block_percent <- nba_advanced_2015$BLK
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- sapply(block_percent, FUN = function(x){x/100})
block_percent <- as.numeric(as.character(block_percent))
steal_percent <- nba_advanced_2015$STL
steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
steal_percent <- as.numeric(as.character(steal_percent))
nba_advanced_2015$BLK. <- block_percent
nba_advanced_2015$STL. <- steal_percent
library(tidyverse)
nba_advanced_2015 <- read.csv(file = "nba_advanced/nba_advanced_2015.csv")
block_percent <- nba_advanced_2015$BLK
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
steal_percent <- nba_advanced_2015$STL
steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- as.numeric(as.character(steal_percent))
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
nba_advanced_2015$BLK. <- block_percent
nba_advanced_2015$STL. <- steal_percent
View(nba_advanced_2015)
nba_advanced_2016 <- read.csv(file = "nba_advanced/nba_advanced_2016.csv")
View(nba_advanced_2016)
rm(nba_advanced_2016)
for(year in c(2005:2017)) {
assign(paste("nba_advanced_", year, sep = ""), read_csv(paste("nba_advanced/nba_advanced_", year, ".csv", sep = "")))
}
View(nba_advanced_2010)
block_percent <- get(paste("nba_advanced_", year, sep = ""))$BLK
block_percent <- get(paste("nba_advanced_", year, sep = ""))$BLK.
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
block_percent <- get(paste("nba_advanced_", year, sep = ""))$BLK%
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
block_percent <- get(paste("nba_advanced_", year, sep = ""))$`BLK%`
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
for(year in c(2005:2017)) {
assign(paste("nba_advanced_", year, sep = ""), read_csv(paste("nba_advanced/nba_advanced_", year, ".csv", sep = "")))
block_percent <- get(paste("nba_advanced_", year, sep = ""))$`BLK%`
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
}
steal_percent_2015 <- nba_advanced_2015$`STL%`
steal_percent_2015 <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent_2015 <- as.numeric(as.character(steal_percent))
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
steal_percent <- nba_advanced_2015$`STL%`
steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- as.numeric(as.character(steal_percent))
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
nba_advanced_2015$`STL%` <- steal_percent
for(year in c(2005:2017)) {
assign(paste("nba_advanced_", year, sep = ""), read_csv(paste("nba_advanced/nba_advanced_", year, ".csv", sep = "")))
block_percent <- get(paste("nba_advanced_", year, sep = ""))$`BLK%`
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
steal_percent <- get(paste("nba_advanced_", year, sep = ""))$`STL%`
steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- as.numeric(as.character(steal_percent))
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
get(paste("nba_advanced_", year, sep = ""))$`BLK%` <- block_percent
get(paste("nba_advanced_", year, sep = ""))$`STL%` <- steal_percent
}
for(year in c(2005:2017)) {
temp <- read_csv(paste("nba_advanced/nba_advanced_", year, ".csv", sep = ""))
temp$Year <- year
nba_advanced <- rbind(nba_advanced, temp)
}
nba_advanced <- data.frame()
for(year in c(2005:2017)) {
temp <- read_csv(paste("nba_advanced/nba_advanced_", year, ".csv", sep = ""))
temp$Year <- year
nba_advanced <- rbind(nba_advanced, temp)
}
View(nba_advanced_2007)
View(nba_advanced)
library(tidyverse)
nba_advanced <- data.frame()
for(year in c(2005:2017)) {
temp <- read_csv(paste("nba_advanced/nba_advanced_", year, ".csv", sep = ""))
temp$Year <- year
nba_advanced <- rbind(nba_advanced, temp)
}
block_percent <- nba_advanced$`BLK%`
block_percent <- sapply(block_percent, FUN = function(x){str_sub(x, 1, -2)})
block_percent <- as.numeric(as.character(block_percent))
block_percent <- sapply(block_percent, FUN = function(x){x/100})
steal_percent <- nba_advanced$`STL%`
steal_percent <- sapply(steal_percent, FUN = function(x){str_sub(x, 1, -2)})
steal_percent <- as.numeric(as.character(steal_percent))
steal_percent <- sapply(steal_percent, FUN = function(x){x/100})
nba_advanced$`BLK%` <- block_percent
nba_advanced$`STL%` <- steal_percent
